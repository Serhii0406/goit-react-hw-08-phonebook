"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[373],{373:function(e,t,n){n.r(t),n.d(t,{default:function(){return ee}});var a=n(9439),r=n(2144),i=n(3027),o=n(3360),c=n(2791),s=n(1056),l=n(6825),u=n(3329);function d(){var e=(0,c.useState)(""),t=(0,a.Z)(e,2),n=t[0],d=t[1],v=(0,c.useState)(""),f=(0,a.Z)(v,2),m=f[0],h=f[1],x=(0,s.Lr)(),b=(0,a.Z)(x,2),p=b[0],j=b[1].isLoading,y=(0,s.Jx)().data,Z=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":d(a.toLowerCase());break;case"number":h(a.toLowerCase());break;default:return}},g=function(){d(""),h("")};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{className:"header text-center p-1 mt-1",children:"Phonebook"}),(0,u.jsx)(r.Z,{className:"justify-content-center p-1 mx-auto mt-2",style:{width:"25rem"},children:(0,u.jsxs)(i.Z,{className:"mb-3 p-2",onSubmit:function(e){e.preventDefault();var t={name:n,number:m};y.some((function(e){return e.name===t.name}))?window.alert("The contact added in the list"):p(t),g()},children:[(0,u.jsxs)(i.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,u.jsx)(i.Z.Label,{children:" Name"}),(0,u.jsx)(i.Z.Control,{value:n,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:Z,required:!0})]}),(0,u.jsxs)(i.Z.Group,{className:"mb-3",controlId:"formBasicPassword",children:[(0,u.jsx)(i.Z.Label,{children:"Number"}),(0,u.jsx)(i.Z.Control,{value:m,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:Z,required:!0})]}),j?(0,u.jsx)(l.Z,{}):(0,u.jsx)(o.Z,{size:"lg",variant:"outline-primary",type:"submit",children:"Add contact"})]})})]})}var v=n(5048),f=n(1413),m=n(5987),h=n(1694),x=n.n(h),b=(n(2391),n(8580)),p=n(3808);var j=n(3201),y=c.createContext(null);y.displayName="NavContext";var Z=y,g=n(8633),C=c.createContext(null),N=n(1306),w=n(2134),k=n(5341),I=["as","active","eventKey"];function P(e){var t=e.key,n=e.onClick,a=e.active,r=e.id,i=e.role,o=e.disabled,s=(0,c.useContext)(g.Z),l=(0,c.useContext)(Z),u=(0,c.useContext)(C),d=a,v={role:i};if(l){i||"tablist"!==l.role||(v.role="tab");var f=l.getControllerId(null!=t?t:null),m=l.getControlledId(null!=t?t:null);v[(0,N.PB)("event-key")]=t,v.id=f||r,!(d=null==a&&null!=t?l.activeKey===t:a)&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(v["aria-controls"]=m)}return"tab"===v.role&&(v["aria-selected"]=d,d||(v.tabIndex=-1),o&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=(0,w.Z)((function(e){o||(null==n||n(e),null!=t&&s&&!e.isPropagationStopped()&&s(t,e))})),[v,{isActive:d}]}var K=c.forwardRef((function(e,t){var n=e.as,r=void 0===n?k.ZP:n,i=e.active,o=e.eventKey,c=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,I),s=P(Object.assign({key:(0,g.h)(o,c.href),active:i},c)),l=(0,a.Z)(s,2),d=l[0],v=l[1];return d[(0,N.PB)("active")]=v.isActive,(0,u.jsx)(r,Object.assign({},c,d,{ref:t}))}));K.displayName="NavItem";var z=K,A=["as","onSelect","activeKey","role","onKeyDown"];var E=function(){},L=(0,N.PB)("event-key"),O=c.forwardRef((function(e,t){var n,a,r=e.as,i=void 0===r?"div":r,o=e.onSelect,s=e.activeKey,l=e.role,d=e.onKeyDown,v=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,A),f=(0,c.useReducer)((function(e){return!e}),!1)[1],m=(0,c.useRef)(!1),h=(0,c.useContext)(g.Z),x=(0,c.useContext)(C);x&&(l=l||"tablist",s=x.activeKey,n=x.getControlledId,a=x.getControllerId);var b=(0,c.useRef)(null),y=function(e){var t=b.current;if(!t)return null;var n=(0,p.Z)(t,"[".concat(L,"]:not([aria-disabled=true])")),a=t.querySelector("[aria-selected=true]");if(!a||a!==document.activeElement)return null;var r=n.indexOf(a);if(-1===r)return null;var i=r+e;return i>=n.length&&(i=0),i<0&&(i=n.length-1),n[i]},w=function(e,t){null!=e&&(null==o||o(e,t),null==h||h(e,t))};(0,c.useEffect)((function(){if(b.current&&m.current){var e=b.current.querySelector("[".concat(L,"][aria-selected=true]"));null==e||e.focus()}m.current=!1}));var k=(0,j.Z)(t,b);return(0,u.jsx)(g.Z.Provider,{value:w,children:(0,u.jsx)(Z.Provider,{value:{role:l,activeKey:(0,g.h)(s),getControlledId:n||E,getControllerId:a||E},children:(0,u.jsx)(i,Object.assign({},v,{onKeyDown:function(e){if(null==d||d(e),x){var t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}t&&(e.preventDefault(),w(t.dataset[(0,N.$F)("EventKey")]||null,e),m.current=!0,f())}},ref:k,role:l}))})})}));O.displayName="Nav";var S=Object.assign(O,{Item:z}),R=n(162),D=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],F=c.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,i=e.disabled,o=e.eventKey,c=e.className,s=e.variant,l=e.action,d=e.as,v=(0,m.Z)(e,D);n=(0,R.vE)(n,"list-group-item");var h=P((0,f.Z)({key:(0,g.h)(o,v.href),active:r},v)),b=(0,a.Z)(h,2),p=b[0],j=b[1],y=(0,w.Z)((function(e){if(i)return e.preventDefault(),void e.stopPropagation();p.onClick(e)}));i&&void 0===v.tabIndex&&(v.tabIndex=-1,v["aria-disabled"]=!0);var Z=d||(l?v.href?"a":"button":"div");return(0,u.jsx)(Z,(0,f.Z)((0,f.Z)((0,f.Z)({ref:t},v),p),{},{onClick:y,className:x()(c,n,j.isActive&&"active",i&&"disabled",s&&"".concat(n,"-").concat(s),l&&"".concat(n,"-action"))}))}));F.displayName="ListGroupItem";var B=F,G=["className","bsPrefix","variant","horizontal","numbered","as"],q=c.forwardRef((function(e,t){var n,a=(0,b.Ch)(e,{activeKey:"onSelect"}),r=a.className,i=a.bsPrefix,o=a.variant,c=a.horizontal,s=a.numbered,l=a.as,d=void 0===l?"div":l,v=(0,m.Z)(a,G),h=(0,R.vE)(i,"list-group");return c&&(n=!0===c?"horizontal":"horizontal-".concat(c)),(0,u.jsx)(S,(0,f.Z)((0,f.Z)({ref:t},v),{},{as:d,className:x()(r,h,o&&"".concat(h,"-").concat(o),n&&"".concat(h,"-").concat(n),s&&"".concat(h,"-numbered"))}))}));q.displayName="ListGroup";var _=Object.assign(q,{Item:B}),J=function(e){return e.filter},M=n(3433);function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:R.Hz,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.cs,r=[];return Object.entries(e).forEach((function(e){var i=(0,a.Z)(e,2),o=i[0],c=i[1];null!=c&&("object"===typeof c?t.forEach((function(e){var t=c[e];if(null!=t){var a=e!==n?"-".concat(e):"";r.push("".concat(o).concat(a,"-").concat(t))}})):r.push("".concat(o,"-").concat(c)))})),r}var H=["as","bsPrefix","className","direction","gap"],T=c.forwardRef((function(e,t){var n=e.as,a=void 0===n?"div":n,r=e.bsPrefix,i=e.className,o=e.direction,c=e.gap,s=(0,m.Z)(e,H);r=(0,R.vE)(r,"horizontal"===o?"hstack":"vstack");var l=(0,R.pi)(),d=(0,R.zG)();return(0,u.jsx)(a,(0,f.Z)((0,f.Z)({},s),{},{ref:t,className:x().apply(void 0,[i,r].concat((0,M.Z)($({gap:c},l,d))))}))}));T.displayName="Stack";var U=T,Q=function(e){var t=e.name,n=e.number,r=e.id,i=(0,s.Nt)(),c=(0,a.Z)(i,1)[0];return(0,u.jsx)(_.Item,{children:(0,u.jsxs)(U,{direction:"horizontal",gap:2,children:[(0,u.jsxs)("p",{children:[t," : ",n]}),(0,u.jsx)(o.Z,{variant:"outline-primary",type:"button",className:"ms-auto",onClick:function(){return c(r)},children:"Delete"})]})})},V=n(8842),W=function(){var e=(0,s.Jx)(),t=e.data,n=e.isFetching,a=e.refetch,r=function(e,t){var n=e.toLowerCase();return null===t||void 0===t?void 0:t.filter((function(e){var t=e.name,a=e.number;return t.toLowerCase().includes(n)||a.includes(n)}))}((0,v.v9)(J),t),i=(0,v.v9)(V.um.getIsLoggedIn);return(0,c.useEffect)((function(){i&&a()}),[a,i]),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)(_,{className:"justify-content-center p-1 mx-auto mt-2",style:{width:"25rem"},children:[n&&(0,u.jsx)(l.Z,{}),r&&r.map((function(e){var t=e.id,n=e.name,a=e.number;return(0,u.jsx)(Q,{id:t,name:n,number:a},t)}))]})})},X=n(6962),Y=function(){var e=(0,v.I0)();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{className:"header text-center p-1",children:"Contacts"}),(0,u.jsx)(i.Z,{className:"justify-content-center p-1 mx-auto mt-1",style:{width:"25rem"},children:(0,u.jsxs)(i.Z.Group,{className:"mb-3",controlId:"formBasicEmail",children:[(0,u.jsx)(i.Z.Label,{children:"Find contacts by name"}),(0,u.jsx)(i.Z.Control,{type:"text",name:"filter",placeholder:"Search...",onChange:function(t){return e((0,X.M)(t.target.value.trim()))}})]})})]})},ee=function(){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(d,{}),(0,u.jsx)(Y,{}),(0,u.jsx)(W,{})]})}}}]);
//# sourceMappingURL=373.e42d1437.chunk.js.map